var xmlStr = ` <xml>
 <ToUserName><![CDATA[toUser]]></ToUserName>
 <FromUserName><![CDATA[fromUser]]></FromUserName> 
 <CreateTime>1348831860</CreateTime>
 <MsgType><![CDATA[text]]></MsgType>
 <Content><![CDATA[this is a test]]></Content>
 <MsgId>1234567890123456</MsgId>
 </xml>`
var xml = require('node-xml');
var ToUserName="";
var FromUserName="";
var CreateTime="";
var MsgType="";
var Content="";
var tempName="";
//开始解析消息
var count = 1;
var parse=new xml.SaxParser(function(cb){
	//打开标签时调用
    cb.onStartElementNS(function(elem,attra,prefix,uri,namespaces){
        tempName=elem;
    });
	//当遇到一组内容字符时调用（不太明白什么意思）
    cb.onCharacters(function(chars){
        chars=chars.replace(/(^\s*)|(\s*$)/g, "");
		
		
        console.log(chars,count++);
		
		打印如下，不明白？？？
		 1
		 2
		ToUserName:toUser
		 3
		FromUserName:fromUser
		 4
		1348831860 5
		 6
		MsgType:text
		 7
		Content:this is a test
		 8
		1234567890123456 9
		 10
		
		
		
        if(tempName==="CreateTime"){
            CreateTime=chars;//可能仅仅是用来获取时间戳？
        }
    });
	
	//遇到CDATAS时调用
    cb.onCdata(function(cdata){
        if(tempName==="ToUserName"){
            ToUserName=cdata;
        }else if(tempName==="FromUserName"){
            FromUserName=cdata;
        }else if(tempName==="MsgType"){
            MsgType=cdata;
        }else if(tempName==="Content"){
            Content=cdata;
        }
        console.log(tempName+":"+cdata);
    });
    cb.onEndElementNS(function(elem,prefix,uri){
        tempName="";
    });
    cb.onEndDocument(function(){
        //按收到的消息格式回复消息
    });
});
parse.parseString(xmlStr);